<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<!--  This file is part of the DITA Open Toolkit project. See the accompanying LICENSE file for applicable license.  -->
<reference id="plugin-addgeneratedtext">
  <title>Customizing generated text</title>
  <shortdesc>Generated text is the term for strings that are automatically added by the build process, such as "Note"
    before the contents of a <xmlelement>note</xmlelement> element.</shortdesc>
  <prolog>
    <metadata>
      <keywords>
        <indexterm><xmlelement>note</xmlelement></indexterm>
        <indexterm><xmlatt>xml:lang</xmlatt></indexterm>
        <indexterm>languages
          <indexterm>adding support for</indexterm></indexterm>
        <indexterm>English</indexterm>
        <indexterm>Icelandic</indexterm>
        <indexterm>Russian</indexterm>
        <indexterm>Vietnamese</indexterm>
        <indexterm>Gaelic</indexterm>
        <indexterm>strings</indexterm>
        <indexterm>generated text</indexterm>
        <indexterm>draft
          <indexterm>localizing generated text</indexterm></indexterm>
        <indexterm>getVariable</indexterm>
        <indexterm><xmlelement>strings</xmlelement></indexterm>
        <indexterm><xmlelement>vars</xmlelement></indexterm>
      </keywords>
    </metadata>
  </prolog>
  <refbody>
    <section>
      <p>
        <dl>
          <dlentry>
            <dt><codeph>dita.xsl.strings</codeph></dt>
            <dd>Add new strings to generated text file. </dd>
          </dlentry>
        </dl>The generated text extension point is used to add new strings to the default set of generated text. There
        are several reasons you may want to use this:
        <ul>
          <li>It can be used to add new text for your own processing extensions; for example, it could be used to add
            localized versions of the string "User response" to aid in rendering troubleshooting information.</li>
          <li>It can be used to override the default strings in the toolkit; for example, it could be used to reset the
            English string "Figure" to "Fig".</li>
          <li>It can be used to add support for new languages (for non-PDF transforms only; PDF requires more
            complicated localization support). For example, it could be used to add support for Vietnamese or Gaelic; it
            could also be used to support a new variant of a previously supported language, such as Australian
            English.</li>
        </ul></p>
      <p>If two plug-ins define the same string or add support for the same language using different values, the result
        will be non-deterministic. In other words, when the same content is processed multiple times, you may get
        inconsistent generated text results. This is because the toolkit cannot determine which string to use, since
        more than one match is found. Avoid this possibility by ensuring that only one plug-in defines or overrides
        string values for each string in each language. Also consider using a naming convention for attributes used to
        look up the string value by using the ID or purpose of your plug-in.</p>
      <p>Generated strings are available to the "getVariable" template used in many DITA-OT XSLT files. </p>
      <p>Prior to DITA-OT 3.7 there were two different XML structures for adding or modifying generated text strings. In
        the <b>org.dita.base</b> plug-in the root element <xmlelement>strings</xmlelement> was used. In
          <b>org.dita.pdf2</b> the root element was <xmlelement>vars</xmlelement>. </p>
      <codeblock
        outputclass="language-xml normalize-space show-line-numbers show-whitespace"
      >&lt;?xml version="1.0" encoding="utf-8"?>
&lt;strings xml:lang="en-US">
  &lt;str name="String1">English generated text&lt;/str>
&lt;/strings></codeblock>
      <codeblock
        outputclass="language-xml normalize-space show-line-numbers show-whitespace"
      >&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;vars xmlns="http://www.idiominc.com/opentopic/vars">
  &lt;variable id="String1">English generated text&lt;/variable>
&lt;/vars></codeblock>
      <p>Starting with DITA-OT 3.7 these structures have been replaced and deprecated (although still valid). All
        generated text files use a <xmlelement>variables</xmlelement> root element. For <b>org.dita.base</b>, the
          <xmlelement>str</xmlelement> element was renamed to <xmlelement>variable</xmlelement> and
          <xmlatt>name</xmlatt> became <xmlatt>id</xmlatt>. </p>
      <codeblock
        outputclass="language-xml normalize-space show-line-numbers show-whitespace"
      >&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;?xml-model href="strings.rnc" type="application/relax-ng-compact-syntax"?>
&lt;variables>
  &lt;variable id="String1">English generated text&lt;/variable>
&lt;/variables></codeblock>
      </section>
  </refbody>
</reference>
